<script>
    var xmlhttp = false;
    if (window.XMLHttpRequest){
        xmlhttp = new XMLHttpRequest();
    }else if (window.ActiveXObject){
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
    }

    function test1() {
        var table = document.getElementById('table');
        for (var v in table){
            console.log(v + " = " + table[v]);
        }
        console.log("-------");
        var cc = table.children;
        for (var vv in cc){
            console.log(vv + " = " + cc[vv]);
        }
    }

    function addRow() {
        var counter = document.getElementById('counter');
        var table = document.getElementById('table');

        counter.innerHTML = table.rows.length;

        var tr = table.insertRow(-1);
        var td0 = tr.insertCell(0);
        var td1 = tr.insertCell(1);
        var td2 = tr.insertCell(2);
        td0.innerHTML = "data1";
        td1.innerHTML = "data2";
        td2.innerHTML = "data3";
    }
    function addRowV2() {
        xmlhttp.open("GET", "brad05.php",true);
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState==4 &&
                xmlhttp.status==200){
                var resp = xmlhttp.responseText.trim();
                var data = resp.split(",");

                var table = document.getElementById('table');
                var tr = table.insertRow(-1);
                var td0 = tr.insertCell(0);
                var td1 = tr.insertCell(1);
                var td2 = tr.insertCell(2);
                td0.innerHTML = data[0];
                td1.innerHTML = data[1];
                td2.innerHTML = data[2];

                if (data[0] <10){
                    //td0.style.backgroundColor = 'yellow';
                    td0.bgColor = 'pink';
                }


            }
        };
        xmlhttp.send();
    }

    function addRowV3() {
        xmlhttp.open("GET", "brad051.php",true);
        xmlhttp.onreadystatechange = function () {
            if (xmlhttp.readyState == 4 &&
                xmlhttp.status == 200) {
//                console.log(xmlhttp.responseText);
//                console.log("-----");
                var xml = xmlhttp.responseXML;
                var to = xml.getElementsByTagName("to");
                console.log(to[0].innerHTML);
                console.log(to[1].innerHTML);
                console.log(to[2].innerHTML);


            }
        };
        xmlhttp.send();
    }

</script>
<input type="button" onclick="test1()" value="test"/>
<input type="button" onclick="addRowV3()" value="+"/>
<span id="counter">0</span>
<table border="1" width="100%" id="table">
    <tr>
        <th>No.</th>
        <th>Name</th>
        <th>Tel.</th>
    </tr>

</table>
